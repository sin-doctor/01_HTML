<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원가입</title>
    <link rel="stylesheet" href="../css/15_정규표현식_회원가입.css">
</head>
<body>
    <div class="container">
        <div class ="input-group">
        <h2>행복나라 회원가입</h2>
        <label>아이디</label>
        <input type="text" id="id">
        <div id="IdResult"></div>

        <label>비밀번호</label>
        <input type="password" id="pw">
        <div id="PwResult"></div>

        <label>비밀번호확인</label>
        <input type="password" id="pwConfirm">
        <div id="pwConfirmResult"></div>

        <label>이름</label>
        <input type="text" id="name">
        <div id="nameResult"></div>
        
        <label>성별</label>
        <input type="radio" name="성별" id="gender">남
        <input type="radio" name="성별" id="gender">여
        
        </div>
        
        <button onclick="signup()">가입</button>
        
    </div>
    <script>
        function signup(){
            const inputId = document.getElementById("id").value;
            const IdRegex = /^[a-zA-Z0-9_-]{6,16}$/;
            const IdResult = document.getElementById("IdResult");
            
            
            const inputPw = document.getElementById("pw").value;
            const PwRegex =  /^(?=.*[a-zA-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,20}$/;
            const PwResult = document.getElementById("PwResult");

            const inputPwConfirm = document.getElementById("pwConfirm").value;
            const pwConfirmResult = document.getElementById("pwConfirmResult");
            

            const inputName = document.getElementById("name").value;
            const nameRegex = /^[가-힣]{2,15}$/; 
            const nameResult = document.getElementById("nameResult");

            
            if(IdRegex.test(inputId)){
                IdResult.innerText = "유효한 형식의 아이디입니다.";
                IdResult.className = "success-msg";
            }else{
                IdResult.innerText = "아이디는 영어 대/소문자,숫자,특수문자(-,_) 포함 6-16글자여야 합니다.";
                IdResult.className = "error-msg";
            }

            if(PwRegex.test(inputPw)){
                PwResult.innerText = "유효한 형식의 비밀번호입니다.";
                PwResult.className = "success-msg";
            }else{
                PwResult.innerText = "비밀번호는 영어 대/소문자,숫자,특수문자 포함 8-20 글자여야 합니다.";
                PwResult.className = "error-msg";
            }

            if(inputPw === inputPwConfirm && inputPw !== ""){
                pwConfirmResult.innerText = "비밀번호가 일치합니다.";
                pwConfirmResult.className = "success-msg";
            } else {
                pwConfirmResult.innerText = "비밀번호가 일치하지 않습니다.";
                pwConfirmResult.className = "error-msg";
            }

            if(nameRegex.test(inputName)){
                nameResult.innerText = "유효한 형식의 이름입니다.";
                nameResult.className = "success-msg";
            }else{
                nameResult.innerText = "이름은 한글 2-15자여야합니다";
                nameResult.className = "error-msg";
            }
        }
        </script>
</body>
</html>